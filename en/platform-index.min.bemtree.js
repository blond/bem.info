var BEMTREE;!function(t){function e(e){var n={},i=function(e,n){return function(i){if("object"==typeof n&&"undefined"!=typeof e)e.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:this,o.bemtree=i()}}(function(){return function t(e,n,i){function o(s,c){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n?n:t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){function i(){s.apply(this,arguments)}var o=t("inherits"),r=t("../bemxjst/match").Match,s=t("../bemxjst/entity").Entity;o(i,s),n.Entity=i,i.prototype._initRest=function(t){"default"===t?this.rest[t]=this.def:"content"===t?this.rest[t]=this[t]:this.rest.hasOwnProperty(t)||(this.rest[t]=new r(this))},i.prototype.defaultBody=function(t){var e=this.content.exec(t);return 0===this.content.count&&void 0===e&&(e=t.ctx.content),this.bemxjst.render(t,this,e)}},{"../bemxjst/entity":5,"../bemxjst/match":7,inherits:10}],2:[function(t,e,n){function i(){r.apply(this,arguments)}var o=t("inherits"),r=t("../bemxjst"),s=t("./entity").Entity;o(i,r),e.exports=i,i.prototype.Entity=s,i.prototype.runMany=function(t){var e=[],n=this.context,i=n.position,o=n._notNewList;if(o?n._listLength+=t.length-1:(n.position=0,n._listLength=t.length),n._notNewList=!0,this.canFlush)for(var r=0;r<t.length;r++)e+=n._flush(this._run(t[r]));else for(var r=0;r<t.length;r++)e.push(this._run(t[r]));return o||(n.position=i),e},i.prototype.render=function(t,e,n){var i=t.ctx,o=!!(i.block||i.elem||i.bem);return"undefined"==typeof n?i:(i.content=this.renderContent(n,o),i)},i.prototype._run=function(t){return t&&t!==!0?r.prototype._run.call(this,t):t}},{"../bemxjst":6,"./entity":1,inherits:10}],3:[function(t,e,n){function i(t){this.modDelim=t.mod||"_",this.elemDelim=t.elem||"__"}n.ClassBuilder=i,i.prototype.build=function(t,e){return e?t+this.elemDelim+e:t},i.prototype.buildModPostfix=function(t,e){var n=this.modDelim+t;return e!==!0&&(n+=this.modDelim+e),n},i.prototype.buildBlockClass=function(t,e,n){var i=t;return n&&(i+=this.buildModPostfix(e,n)),i},i.prototype.buildElemClass=function(t,e,n,i){var o=this.buildBlockClass(t)+this.elemDelim+e;return i&&(o+=this.buildModPostfix(n,i)),o},i.prototype.split=function(t){return t.split(this.elemDelim,2)}},{}],4:[function(t,e,n){function i(t){this._bemxjst=t,this.ctx=null,this.block="",this._currBlock="",this.elem=null,this.mods={},this.elemMods={},this.position=0,this._listLength=0,this._notNewList=!1,this._onceRef={}}var o=t("./utils");n.Context=i,i.prototype._flush=null,i.prototype.isArray=o.isArray,i.prototype.isSimple=o.isSimple,i.prototype.isShortTag=o.isShortTag,i.prototype.extend=o.extend,i.prototype.identify=o.identify,i.prototype.xmlEscape=o.xmlEscape,i.prototype.attrEscape=o.attrEscape,i.prototype.jsAttrEscape=o.jsAttrEscape,i.prototype.isFirst=function(){return 1===this.position},i.prototype.isLast=function(){return this.position===this._listLength},i.prototype.generateId=function(){return o.identify(this.ctx)},i.prototype.reapply=function(t){return this._bemxjst.run(t)}},{"./utils":9}],5:[function(t,e,n){function i(t,e,n,i){this.bemxjst=t,this.block=null,this.elem=null,this.options={},this.canFlush=!0,this.def=new s(this),this.content=new s(this),this.rest={},this.init(e,n),this.initModes(i)}function o(){return this.ctx.content}var r=t("./utils"),s=t("./match").Match,c=t("./tree"),a=c.Template,h=c.PropertyMatch,l=c.CompilerOptions;n.Entity=i,i.prototype.init=function(t,e){this.block=t,this.elem=e},i.prototype.initModes=function(t){for(var e=0;e<t.length;e++){for(var n=t[e],i=n.predicates.length-1;i>=0;i--){var o=n.predicates[i];if(o instanceof h&&"_mode"===o.key){n.predicates.splice(i,1),this._initRest(o.value),this.rest[o.value].push(n);break}}-1===i&&this.def.push(n);for(var i=n.predicates.length-1;i>=0;i--){var o=n.predicates[i];o instanceof l&&(this.options=r.extend(this.options,o.options))}}},i.prototype.prepend=function(t){for(var e=Object.keys(this.rest),n=0;n<e.length;n++){var i=e[n];t.rest[i]&&this.rest[i].prepend(t.rest[i])}e=Object.keys(t.rest);for(var n=0;n<e.length;n++){var i=e[n];this.rest[i]||(this._initRest(i),this.rest[i].prepend(t.rest[i]))}},i.prototype.run=function(t){return 0!==this.def.count?this.def.exec(t):this.defaultBody(t)},i.prototype.setDefaults=function(){if(0!==this.content.count&&this.content.push(new a([],o)),0!==this.def.count){this.canFlush=this.options.flush||!1;var t=this;this.def.push(new a([],function(){return t.defaultBody(this)}))}}},{"./match":7,"./tree":8,"./utils":9}],6:[function(t,e,n){function i(t){this.options=t||{},this.entities=null,this.defaultEnt=null,this.tree=null,this.match=null,this.contextConstructor=function(t){c.call(this,t)},o(this.contextConstructor,c),this.context=null,this.classBuilder=new a(this.options.naming||{}),this.depth=0,this.canFlush=!1,this.oninit=null,this.defaultEnt=new this.Entity(this,"","",[]),this.defaultElemEnt=new this.Entity(this,"","",[])}var o=t("inherits"),r=t("./tree").Tree,s=t("./tree").PropertyMatch,c=t("./context").Context,a=t("./class-builder").ClassBuilder,h=t("./utils");e.exports=i,i.prototype.locals=r.methods.concat("local","applyCtx","applyNext","apply"),i.prototype.compile=function(t){function e(){return s._run(s.context.ctx)}function n(t,n){return n?s.local(n,function(){return s.local({ctx:t},e)}):s.local({ctx:t},e)}function i(t,e){return s.applyMode(t,e)}function o(t){return function(e){return s.local(t,e)}}var s=this,c=new r({refs:{applyCtx:n,local:o}}),a=this.recompileInput(t),h=c.build(a,[o,n,function u(t){return t?s.local(t,u):s.applyNext()},i]);this.tree&&(h={templates:h.templates.concat(this.tree.templates),oninit:this.tree.oninit.concat(h.oninit)}),this.tree=h;var l=this.groupEntities(h.templates);l=this.transformEntities(l),this.entities=l,this.oninit=h.oninit},i.prototype.recompileInput=function(t){var e=t.toString(),n=i.prototype.locals;return"function"==typeof t&&t.length===n.length?t:(e=e.replace(/^function[^{]+{|}$/g,""),e=new Function(n.join(", "),e))},i.prototype.groupEntities=function(t){for(var e={},n=0;n<t.length;n++){var i,o=t[n].clone(),r=null;i=void 0;for(var c=0;c<o.predicates.length;c++){var a=o.predicates[c];if(a instanceof s){if("block"===a.key)r=a.value;else{if("elem"!==a.key)continue;i=a.value}o.predicates.splice(c,1),c--}}if(null===r)throw new Error('block("...") not found in one of the templates');var h=this.classBuilder.build(r,i);e[h]||(e[h]=[]),e[h].push(o)}return e},i.prototype.transformEntities=function(t){for(var e=[],n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],r=this.classBuilder.split(o),s=r[0],c=r[1];"*"===c&&e.push(s),t[o]=new this.Entity(this,s,c,t[o])}if(t.hasOwnProperty("*")){for(var a=t["*"],i=0;i<n.length;i++){var o=n[i];"*"!==o&&t[o].prepend(a)}this.defaultEnt.prepend(a),this.defaultElemEnt.prepend(a)}for(var i=0;i<e.length;i++){for(var s=e[i],h=this.classBuilder.build(s,"*"),a=t[h],i=0;i<n.length;i++){var o=n[i];if(o!==h){var l=t[o];l.block===s&&void 0!==l.elem&&t[o].prepend(a)}}this.defaultElemEnt.prepend(a)}for(var i=0;i<n.length;i++){var o=n[i];t[o].setDefaults(),this.defaultEnt.setDefaults(),this.defaultElemEnt.setDefaults()}return t},i.prototype._run=function(t){var e;return e=void 0===t||""===t||null===t?this.runEmpty():h.isArray(t)?this.runMany(t):h.isSimple(t)?this.runSimple(t):this.runOne(t)},i.prototype.run=function(t){var e=this.match,n=this.context;this.match=null,this.context=new this.contextConstructor(this),this.canFlush=null!==this.context._flush,this.depth=0;var i=this._run(t);return this.canFlush&&(i=this.context._flush(i)),this.match=e,this.context=n,i},i.prototype.runEmpty=function(){return this.context._listLength--,""},i.prototype.runSimple=function(t){this.context._listLength--;var e="";return(t&&t!==!0||0===t)&&(e+=t),e},i.prototype.runOne=function(t){var e=this.context,n=e.ctx,i=e.block,o=e._currBlock,r=e.elem,s=e.mods,c=e.elemMods;t.block||t.elem?e._currBlock="":e._currBlock=e.block,e.ctx=t,t.block?(e.block=t.block,t.mods?e.mods=t.mods:e.mods={}):t.elem?o&&(e.block=o):e.block="",e.elem=t.elem,t.elemMods?e.elemMods=t.elemMods:e.elemMods={};var a=e.block||"",h=e.elem;a||h?e.position++:e._listLength--,this.depth++;var l=this.classBuilder.build(a,h),u=!1,p=this.entities[l];p?this.canFlush&&!p.canFlush&&(u=!0,this.canFlush=!1):(p=this.defaultEnt,void 0!==h&&(p=this.defaultElemEnt),p.init(a,h));var f=p.run(e);return e.ctx=n,e.block=i,e.elem=r,e.mods=s,e.elemMods=c,e._currBlock=o,this.depth--,u&&(this.canFlush=!0),f},i.prototype.renderContent=function(t,e){var n=this.context,i=n.position,o=n._listLength,r=n._notNewList;n._notNewList=!1,e&&(n.position=1,n._listLength=1);var s=this._run(t);return n.position=i,n._listLength=o,n._notNewList=r,s},i.prototype.local=function(t,e){for(var n=Object.keys(t),i=[],o=0;o<n.length;o++){for(var r=n[o],s=r.split("."),c=this.context,a=0;a<s.length-1;a++)c=c[s[a]];i.push({parts:s,value:c[s[a]]}),c[s[a]]=t[r]}for(var h=e.call(this.context),o=0;o<i.length;o++){for(var s=i[o].parts,c=this.context,a=0;a<s.length-1;a++)c=c[s[a]];c[s[a]]=i[o].value}return h},i.prototype.applyNext=function(){return this.match.exec(this.context)},i.prototype.applyMode=function(t,e){var n=this.match.entity.rest[t];if(n){if(!e)return n.exec(this.context);var i=this,o=function(){return n.exec(i.context)};return this.local(e,o)}},i.prototype.exportApply=function(t){var e=this;t.apply=function(t){return e.run(t)},t.compile=function(t){return e.compile(t)};var n={};t.BEMContext=this.contextConstructor,n.BEMContext=t.BEMContext;for(var i=0;i<this.oninit.length;i++){var o=this.oninit[i];o(t,n)}}},{"./class-builder":3,"./context":4,"./tree":8,"./utils":9,inherits:10}],7:[function(t,e,n){function i(t,e){this.template=t,this.key=e.key,this.value=e.value}function o(t,e){this.template=t,this.keys=e.key,this.value=e.value}function r(t,e){this.template=t,this.key=e.key}function s(t,e){this.template=t,this.body=e.body}function c(t){this.template=t,this.once=null}function a(t){this.template=t,this.wrap=null}function h(t,e){this.mode=t,this.predicates=new Array(e.predicates.length),this.body=e.body;for(var n=[],h=0,l=0;h<this.predicates.length;h++,l++){var p=e.predicates[h];p instanceof f?u.isArray(p.key)?this.predicates[l]=new o(this,p):this.predicates[l]=new i(this,p):p instanceof y?this.predicates[l]=new r(this,p):p instanceof g?this.predicates[l]=new s(this,p):p instanceof m?(l--,n.push(new c(this))):p instanceof d?(l--,n.push(new a(this))):l--}for(var h=0;h<n.length;h++,l++)this.predicates[l]=n[h];this.predicates.length!==l&&(this.predicates.length=l)}function l(t){this.entity=t,this.bemxjst=this.entity.bemxjst,this.templates=[],this.mask=[0],this.maskSize=0,this.maskOffset=0,this.count=0,this.depth=-1,this.thrownError=null}var u=t("./utils"),p=t("./tree"),f=p.PropertyMatch,m=p.OnceMatch,d=p.WrapMatch,y=p.PropertyAbsent,g=p.CustomMatch;i.prototype.exec=function(t){return t[this.key]===this.value},o.prototype.exec=function(t){for(var e=t,n=0;n<this.keys.length-1;n++)if(e=e[this.keys[n]],!e)return!1;return e[this.keys[n]]===this.value},r.prototype.exec=function(t){return!t[this.key]},s.prototype.exec=function(t){return this.body.call(t)},c.prototype.exec=function(t){var e=this.once!==t._onceRef;return this.once=t._onceRef,e},a.prototype.exec=function(t){var e=this.wrap!==t.ctx;return this.wrap=t.ctx,e},n.MatchTemplate=h,n.Match=l,l.prototype.clone=function(t){var e=new l(t);return e.templates=this.templates.slice(),e.mask=this.mask.slice(),e.maskSize=this.maskSize,e.count=this.count,e},l.prototype.prepend=function(t){for(this.templates=t.templates.concat(this.templates),this.count+=t.count;Math.ceil(this.count/31)>this.mask.length;)this.mask.push(0);this.maskSize=this.mask.length},l.prototype.push=function(t){this.templates.push(new h(this,t)),this.count++,Math.ceil(this.count/31)>this.mask.length&&this.mask.push(0),this.maskSize=this.mask.length},l.prototype.tryCatch=function(t,e){try{return t.call(e)}catch(n){this.thrownError=n}},l.prototype.exec=function(t){for(var e,n=this.checkDepth(),i=this.maskOffset,o=this.mask[i],r=1,s=0;s<this.count;s++){if(0===(o&r)){e=this.templates[s];for(var c=0;c<e.predicates.length;c++){var a=e.predicates[c];if(!a.exec(t))break}if(c===e.predicates.length)break}1073741824===r?(i++,o=this.mask[i],r=1):r<<=1}if(s!==this.count){var h=o,l=this.bemxjst.match;this.mask[i]|=r,this.bemxjst.match=this,this.thrownError=null;var u;u="function"==typeof e.body?this.tryCatch(e.body,t):e.body,this.mask[i]=h,this.bemxjst.match=l,this.restoreDepth(n);var p=this.thrownError;if(null!==p)throw this.thrownError=null,p;return u}},l.prototype.checkDepth=function(){if(-1===this.depth)return this.depth=this.bemxjst.depth,-1;if(this.bemxjst.depth===this.depth)return this.depth;var t=this.depth;for(this.depth=this.bemxjst.depth,this.maskOffset+=this.maskSize;this.mask.length<this.maskOffset+this.maskSize;)this.mask.push(0);return t},l.prototype.restoreDepth=function(t){-1!==t&&t!==this.depth&&(this.maskOffset-=this.maskSize),this.depth=t}},{"./tree":8,"./utils":9}],8:[function(t,e,n){function i(t,e){this.predicates=t,this.body=e}function o(){}function r(t,e){this.conditions=[],this.children=[];for(var n=e.length-1;n>=0;n--){var i=e[n];i instanceof o?this.conditions.push(i):i===t.boundBody?this.children[n]=t.queue.pop():this.children[n]=i}}function s(){o.call(this)}function c(t){o.call(this),this.refs=t}function a(t){o.call(this),this.refs=t}function h(t){o.call(this),this.refs=t}function l(t){o.call(this),this.options=t}function u(t,e){o.call(this),this.key=t,this.value=e}function p(t){o.call(this),this.key=t}function f(t){o.call(this),this.body=t}function m(t){this.options=t,this.refs=this.options.refs,this.boundBody=this.body.bind(this);for(var e=this.methods("body"),n=0;n<e.length;n++){var i=e[n];this.boundBody[m.methods[n]]=i}this.queue=[],this.templates=[],this.initializers=[]}function d(t,e,n){var i=t[n],o=t.boundBody;return"body"!==e?"replace"===n||"extend"===n||"wrap"===n?function(){return i.apply(t,arguments)}:function(){return i.apply(t,arguments),o}:function(){var e=i.apply(t,arguments),r=t.queue.pop(),s=t.queue[t.queue.length-1];return s.conditions=s.conditions.concat(r.conditions),s.children=s.children.concat(r.children),"replace"===n||"extend"===n||"wrap"===n?e:o}}var y=t("minimalistic-assert"),g=t("inherits");n.Template=i,i.prototype.wrap=function(){for(var t=this.body,e=0;e<this.predicates.length;e++){var n=this.predicates[e];t=n.wrapBody(t)}this.body=t},i.prototype.clone=function(){return new i(this.predicates.slice(),this.body)},n.MatchBase=o,o.prototype.wrapBody=function(t){return t},g(s,o),n.OnceMatch=s,g(c,o),n.WrapMatch=c,c.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this))}},g(a,o),n.ReplaceMatch=a,a.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this))}},g(h,o),n.ExtendMatch=h,h.prototype.wrapBody=function(t){var e=this.refs.applyCtx,n=this.refs.local;return"function"!=typeof t?function(){for(var i={},o=Object.keys(t),r=0;r<o.length;r++)i["ctx."+o[r]]=t[o[r]];return n(i)(function(){return e(this.ctx)})}:function(){for(var i={},o=t.call(this),r=Object.keys(o),s=0;s<r.length;s++)i["ctx."+r[s]]=o[r[s]];return n(i)(function(){return e(this.ctx)})}},g(l,o),n.CompilerOptions=l,g(u,o),n.PropertyMatch=u,g(p,o),n.PropertyAbsent=p,g(f,o),n.CustomMatch=f,n.Tree=m,m.methods=["match","once","wrap","elemMatch","block","elem","mode","mod","elemMod","def","tag","attrs","cls","js","jsAttr","bem","mix","content","replace","extend","oninit","xjstOptions"],m.prototype.build=function(t,e){var n=this.methods("global").concat(e);return n[0]=this.match.bind(this),t.apply({},n),{templates:this.templates.slice().reverse(),oninit:this.initializers}},m.prototype.methods=function(t){for(var e=new Array(m.methods.length),n=0;n<e.length;n++){var i=m.methods[n];e[n]=d(this,t,i)}return e},m.prototype.flush=function(t,e){var n;n=e.conditions?t.concat(e.conditions):e.conditions;for(var o=0;o<e.children.length;o++){var s=e.children[o];if(s instanceof r)this.flush(n,e.children[o]);else{var c=new i(t,s);c.wrap(),this.templates.push(c)}}},m.prototype.body=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new r(this,t);return this.queue[this.queue.length-1].children.push(n),1===this.queue.length&&this.flush([],this.queue.shift()),this.boundBody},m.prototype.match=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++){var n=arguments[e];"function"==typeof n&&(n=new f(n)),y(n instanceof o,"Wrong .match() argument"),t[e]=n}return this.queue.push(new r(this,t)),this.boundBody},m.prototype.once=function(){if(arguments.length)throw new Error("Predicate once() should not have arguments");return this.match(new s)},m.prototype.applyMode=function(t,e){if(t.length)throw new Error("Predicate should not have arguments but "+JSON.stringify(t)+" passed");return this.mode(e)},m.prototype.wrap=function(){return this.def.apply(this,arguments).match(new c(this.refs))},m.prototype.xjstOptions=function(t){return this.queue.push(new r(this,[new l(t)])),this.boundBody},m.prototype.block=function(t){return this.match(new u("block",t))},m.prototype.elemMatch=function(){return this.match.apply(this,arguments)},m.prototype.elem=function(t){return this.match(new u("elem",t))},m.prototype.mode=function(t){return this.match(new u("_mode",t))},m.prototype.mod=function(t,e){return this.match(new u(["mods",t],e))},m.prototype.elemMod=function(t,e){return this.match(new u(["elemMods",t],e))},m.prototype.def=function(){return this.applyMode(arguments,"default")},m.prototype.tag=function(){return this.applyMode(arguments,"tag")},m.prototype.attrs=function(){return this.applyMode(arguments,"attrs")},m.prototype.cls=function(){return this.applyMode(arguments,"cls")},m.prototype.js=function(){return this.applyMode(arguments,"js")},m.prototype.jsAttr=function(){return this.applyMode(arguments,"jsAttr")},m.prototype.bem=function(){return this.applyMode(arguments,"bem")},m.prototype.mix=function(){return this.applyMode(arguments,"mix")},m.prototype.content=function(){return this.applyMode(arguments,"content")},m.prototype.replace=function(){return this.def.apply(this,arguments).match(new a(this.refs))},m.prototype.extend=function(){return this.def.apply(this,arguments).match(new h(this.refs))},m.prototype.oninit=function(t){this.initializers.push(t)}},{inherits:10,"minimalistic-assert":11}],9:[function(t,e,n){function i(){return h+ ++s}var o=Object.prototype.toString;n.isArray=Array.isArray,n.isArray||(n.isArray=function(t){return"[object Array]"===o.call(t)}),n.xmlEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n.attrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")},n.jsAttrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/'/g,"&#39;")},n.extend=function(t,e){if(!t||!e)return t||e;var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i};var r={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};n.isShortTag=function(t){return r.hasOwnProperty(t)},n.isSimple=function(t){return t&&t!==!0?"string"==typeof t||"number"==typeof t:!0};var s=0,c=+new Date,a="__"+c,h="uniq"+c;n.getUniq=i,n.identify=function(t,e){if(!t)return i();if(e||t[a])return t[a];var n=i();return t[a]=n,n}},{}],10:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],11:[function(t,e,n){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}e.exports=i,i.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},{}]},{},[2])(2)}),e.exports||n.BEMHTML}({},{}),o=new i({wrap:!1});return o.compile(function(t,n,i,o,r,s,c,a,h,l,u,p,f,m,d,y,g,v,b,x,k,w,E,M,_,j){r("root").replace()(function(){var t=this.data=this.ctx.data,e=t.page,n=e.site,i=t.siteMod="/"===n?"index":n.split("/")[1],o=i+(e.url===n&&"/"!==n&&"/forum/"!==n?"-index":""),r={};return t.pages.forEach(function(t){if("lib"===t.type){var e=t.site.replace(/(.*)\/$/,"$1").split("/"),n=e.pop(),i=e.pop();r[i]||(r[i]=[]),r[i].indexOf(n)<0&&r[i].push(n)}}),t.libs=r,{block:"page",title:e.head.title,head:[{elem:"css",url:"//fonts.googleapis.com/css?family=Open+Sans:300,700&subset=cyrillic"},{elem:"css",url:t.root+"/"+o+".min.css"}],scripts:[{elem:"js",url:t.root+"/"+o+".min.js"}]}}),r("header").content()(function(){var t=this.data,e=t.page.url;t.siteMod;return[{block:"logo",mix:{block:"header",elem:"logo"},url:"/"!==e?t.root+"/":void 0},{block:"breadcrumbs",mix:{block:"header",elem:"breadcrumbs"}},-1===e.indexOf("/forum/")?{elem:"forum",content:"Форум",attrs:{href:t.root+"/forum/"}}:void 0,{block:"lang-switcher",mix:{block:"header",elem:"lang"}},{block:"search"}]}),r("breadcrumbs").content()(function(){var t=this.data,e=t.page,n=e.site,i=[];return t.pages.filter(function(t){return"/"!==t.url&&new RegExp("^"+t.url).test(n)?t.url.split("/").length<=n.split("/").length:void 0}).map(function(n,o){i.push({elem:"item",content:e.url===n.url?n.title:{elem:"link",attrs:{href:t.root+n.url},content:n.title}})},this),i.push(j("lib")),i}),r("breadcrumbs").mode("lib")(function(){var t=this.data,e=t.page,n=e.site;if("lib"===e.type){var i=n.replace(/(.*)\/$/,"$1").split("/"),o=i.pop(),r=i.pop(),s=[];return t.libs[r].forEach(function(t){t!==o&&s.push({val:t,text:t})}),{elem:"item",mix:{elem:"version"},content:{block:"select",mods:{mode:"radio-check",theme:"islands",size:"m"},text:"",js:{url:n.replace(o+"/","")},options:s}}}}),r("lang-switcher").content()(function(){var t=this.data;return t.langs.map(function(e){var n=t.lang===e,i="production"===process.env.YENV?"//"+e+".bem.info":"/bem.info/"+e;return{elem:"item",content:n?e:{elem:"link",attrs:{href:i+t.page.url},content:e}}},this)}),r("search").content()(function(){var t=this.data.lang,e=this.data.siteMod;return[{block:"form",mix:[{block:"search",elem:"form",elemMods:{site:e}}],action:"https://yandex."+("ru"===t?"ru":"com")+"/sitesearch",attrs:{target:"_blank"},content:[{block:"input",mods:{type:"search"},name:"text",autocomplete:!1,placeholder:"ru"===t?"Искать":"Search"},{tag:"input",attrs:{type:"hidden",name:"reqenc"}},{tag:"input",attrs:{type:"hidden",name:"searchid",value:"1944806"}},{tag:"input",attrs:{type:"hidden",name:"l10n",value:t}},{block:"search",elem:"submit",tag:"button",attrs:{type:"submit"}}]},{elem:"open"},{elem:"close"}]}),r("sitemap").content()(function(){var t=this.data,e=t.page;return["methodology","tools","platform"].map(function(n){var i,o="/"+n+"/",r=t.pages.filter(function(t){return 0===t.site.indexOf(o)?t.url===o?(i=t,!1):!0:!1});return{elem:"section",content:[{elem:"title",elemMods:{site:n},content:i.url===e.url?{elem:"current",content:i.title}:{elem:"link",attrs:{href:t.root+i.url},content:i.title}},{elem:"tree",content:r.map(function(n){var i=n.url.split("/").length-3;return i>3?void 0:{elem:"tree-item-"+i,content:n.url===e.url?{elem:"current",content:n.title}:{elem:"link",attrs:{href:t.root+n.url},content:n.title}}})}]}})}),r("nav").content()(function(){var t=this.data,e=t.page.site,n=t.lang;return t.pages.filter(function(t){return new RegExp("^"+e).test(t.url)&&-1==t.url.indexOf("/forum/")?t.url.split("/").length===e.split("/").length+1:void 0}).map(function(e){var i=this.data.page.url===e.url,o="string"==typeof e.title?e.title:e.title[n];return{elem:"item",elemMods:{current:i},content:i?o:{elem:"link",attrs:{href:t.root+e.url},content:o}}},this)}),r("footer").content()(function(){return[{block:"legos",mods:{inverted:!0}},j("promo"),{elem:"layout",content:[{elem:"community",content:["ru"===this.data.lang?{elem:"channel",url:"https://web-standards.slack.com/messages/bem/",content:"Slack"}:void 0,{elem:"channel",url:"https://www.facebook.com/groups/bem.info/",content:"Facebook"},{elem:"channel",url:"https://twitter.com/bem_ru/",content:"Twitter"}]},j("index")]}]}),r("footer").mode("promo")(function(){return{block:"promo-footer",mods:{site:this.data.siteMod}}}),r("article").content()(function(){return this.data.page.content}),r("page").content()(function(){var t=this.data.page;return[{block:"header"},{block:"sitemap"},"/forum/"!==t.url?{block:"nav"}:void 0,"bemjson.js"===t.type?t.content:{block:"article"},{block:"footer",mix:{block:"page-bg"}}]}),r("promo-footer").mod("site","methodology").content()([{block:"promo-title",mix:{block:"promo-footer",elem:"title"},mods:{color:"white"},content:["You should ",{elem:"highlighted",content:"use BEM"}," too"]},{block:"promo-title",mix:{block:"promo-footer",elem:"title"},mods:{color:"white",size:"small"},content:"There are no reason not to do so"},{block:"promo-action",url:"key-concepts/",content:"Документация"}]),k(function(t,n){var i=t.BEMContext||n.BEMContext;i.prototype.require=function(t){return e[t]}})}),o.exportApply(n),n}var n=!0;"object"==typeof module&&"object"==typeof module.exports&&(exports.BEMTREE=e({}),n=!1),"object"==typeof modules&&(modules.define("BEMTREE",[],function(t){t(e({}))}),n=!1),n&&(BEMTREE=e({}),t.BEMTREE=BEMTREE)}("undefined"!=typeof window?window:global);